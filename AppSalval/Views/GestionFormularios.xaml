<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AppSalval.Views.GestionFormularios"
             Title="GestionFormularios">
    <ScrollView>
        <VerticalStackLayout>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Bot칩n para desplegar opciones -->
                <Button Text="Opciones"
                    Grid.Row="0"
                    Grid.Column="0"
                    HorizontalOptions="Start"
                    VerticalOptions="Start"
                    Margin="20,10,0,0"
                    Clicked="OnOpcionesClicked" />

                <Label
                    Grid.Row="0"
                    Grid.Column="1"
                    Text="Administrador" 
                    FontSize="Title"
                    HorizontalOptions="Center"
                    VerticalOptions="Start"
                    TextColor="MidnightBlue"
                    />

                <Button Text="Menu"
                    Grid.Row="0"
                    Grid.Column="2"
                    HorizontalOptions="End"
                    VerticalOptions="Start"
                    Margin="0,10,20,0"
                    Clicked="OnMenuPrincipalClicked" />

                <!-- Contenido principal de la p치gina -->
                <ContentView Grid.Row="1" Grid.ColumnSpan="3" VerticalOptions="Center">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Label
                            Grid.Column="1"
                            Text="Gesti칩n de formularios"
                            FontSize="Medium"
                            TextColor="MidnightBlue"
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            Margin="0,0,0,0"
                            Grid.Row="0"/>

                        <Button
                            
                            Grid.Column="2"
                            Text="A침adir"
                            FontSize="Medium"
                            TextColor="White"
                            BackgroundColor="#1edb68"
                            HorizontalOptions="End"
                            VerticalOptions="Center"
                            Margin="0,20,30,0" />
                    </Grid>
                </ContentView>

                <CollectionView x:Name="ListaFormularios" Grid.Row="2" Grid.ColumnSpan="3" ItemsSource="{Binding Formularios}">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <Grid Padding="10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <Label Grid.Column="0" Text="{Binding Id}" FontSize="16" VerticalOptions="Center" />
                                <Label Grid.Column="1" Text="{Binding NombreDescripcion}" FontSize="16" VerticalOptions="Center" />
                                <Button Grid.Column="2" Command="{Binding VerCommand}" CommandParameter="{Binding Id}" Text="Ver" WidthRequest="80" HeightRequest="40" Margin="0,0,10,0" />
                                <Button Grid.Column="3" Command="{Binding EditarCommand}" CommandParameter="{Binding Id}" Text="Editar" WidthRequest="80" HeightRequest="40" Margin="0,0,10,0" />
                                <Button Grid.Column="4" Command="{Binding EliminarCommand}" CommandParameter="{Binding Id}" Text="Eliminar" WidthRequest="80" HeightRequest="40" Margin="0,0,10,0" />
                            </Grid>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </Grid>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>